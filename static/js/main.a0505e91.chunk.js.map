{"version":3,"sources":["components/ImageFinder/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageFinder/Modal/Modal.module.css","components/ImageFinder/ImageFinder.module.css","components/ImageFinder/ImageGallery/ImageGallery.module.css","components/ImageFinder/Button/Button.module.css","services/imageApi.js","components/ImageFinder/Searchbar/Searchbar.jsx","components/ImageFinder/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageFinder/ImageGallery/ImageGallery.jsx","components/ImageFinder/Button/Button.jsx","components/ImageFinder/Modal/Modal.jsx","components/ImageFinder/ImageFinder.jsx","components/App.js","index.js","components/ImageFinder/Searchbar/Searchbar.module.css"],"names":["module","exports","fetchImagesURL","searchQuery","page","axios","get","Searcbar","state","inputValue","key","handleChange","event","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","styles","Searchbar","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","placeholder","onChange","Component","ImageGalleryItem","webformatURL","onOpenModal","largeImageURL","onClick","data-set","ImageGalleryItemImage","src","ImageGallery","queryData","map","id","Button","fetchImages","modalRoot","document","querySelector","Modal","handleKeydown","e","code","onCloseModal","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","modalBackdrop","modalContainer","children","ImageFinder","isLoading","error","showModal","modalImg","onChangeQuery","query","options","setTimeout","then","data","prevState","hits","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","modalToggle","dataset","set","modalImgSet","img","_prevProps","App","Loader","color","height","width","length","ReactDOM","render"],"mappings":"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","file":"static/js/main.a0505e91.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1arvm\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3kfly\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalBackdrop\":\"Modal_modalBackdrop__3wA9l\",\"modalContainer\":\"Modal_modalContainer__AHgPL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"ImageFinder_App__20vRk\",\"Loader\":\"ImageFinder_Loader__1LEWa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1_sH4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__28ugT\"};","import axios from 'axios';\r\n\r\nconst key = '20194224-dc6981f3af6cee6aa68ee0a6f';\r\n\r\nconst fetchImagesURL = ({ searchQuery = '', page = 1 }) => {\r\n  return axios.get(\r\n    `https://pixabay.com/api/?q=${searchQuery}&key=${key}&image_type=photo&orientation=horizontal&per_page=12&page=${page}`,\r\n  );\r\n};\r\nexport default fetchImagesURL;\r\n","import React, { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searcbar extends Component {\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n  key = '20194224-dc6981f3af6cee6aa68ee0a6f';\r\n\r\n  handleChange = event => {\r\n    this.setState({ inputValue: event.target.value });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state.inputValue);\r\n\r\n    this.setState({ inputValue: '' });\r\n  };\r\n  render () {\r\n    const { inputValue } = this.state;\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type='submit' className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            name='inputValue'\r\n            type='text'\r\n            placeholder='Search images and photos'\r\n            value={inputValue}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searcbar;\r\n","import React from 'react';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, onOpenModal, largeImageURL }) => {\r\n  return (\r\n    <div>\r\n      <li\r\n        className={styles.ImageGalleryItem}\r\n        onClick={onOpenModal}\r\n        data-set={largeImageURL}\r\n      >\r\n        <img className={styles.ImageGalleryItemImage} src={webformatURL} />\r\n      </li>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ queryData, onOpenModal }) => {\r\n  return (\r\n    <div>\r\n      <ul className={styles.ImageGallery}>\r\n        {queryData.map(({ id, webformatURL, largeImageURL }) => (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            webformatURL={webformatURL}\r\n            largeImageURL={largeImageURL}\r\n            onOpenModal={onOpenModal}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ fetchImages }) => {\r\n  return (\r\n    <div>\r\n      <button type='button' className={styles.Button} onClick={fetchImages}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount () {\r\n    window.addEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    window.removeEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render () {\r\n    return createPortal(\r\n      <div>\r\n        <div\r\n          className={styles.modalBackdrop}\r\n          onClick={this.handleBackdropClick}\r\n        >\r\n          <div className={styles.modalContainer}>{this.props.children}</div>\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport fetchImagesURL from '../../services/imageApi';\r\nimport Searchbar from './Searchbar';\r\nimport ImageGallery from './ImageGallery';\r\nimport Button from './Button';\r\nimport Loader from 'react-loader-spinner';\r\nimport Modal from './Modal';\r\n\r\nimport styles from './ImageFinder.module.css';\r\n\r\nclass ImageFinder extends Component {\r\n  state = {\r\n    queryData: [],\r\n    page: 1,\r\n    searchQuery: '',\r\n    isLoading: false,\r\n    error: null,\r\n    showModal: false,\r\n    modalImg: '',\r\n  };\r\n\r\n  componentDidUpdate (_prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.fetchImages();\r\n    }\r\n  }\r\n\r\n  onChangeQuery = query => {\r\n    if (query === this.state.searchQuery) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      searchQuery: query,\r\n      page: 1,\r\n      queryData: [],\r\n      error: null,\r\n    });\r\n  };\r\n\r\n  fetchImages = () => {\r\n    const { searchQuery, page } = this.state;\r\n    const options = {\r\n      searchQuery,\r\n      page,\r\n    };\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    setTimeout(\r\n      () =>\r\n        fetchImagesURL(options)\r\n          .then(data => {\r\n            this.setState(prevState => ({\r\n              queryData: [...prevState.queryData, ...data.data.hits],\r\n              page: prevState.page + 1,\r\n            }));\r\n            if (page > 1) {\r\n              setTimeout(\r\n                () =>\r\n                  window.scrollTo({\r\n                    top: document.documentElement.scrollHeight,\r\n                    behavior: 'smooth',\r\n                  }),\r\n                400,\r\n              );\r\n            }\r\n          })\r\n          .catch(error => this.setState({ error }))\r\n          .finally(this.setState({ isLoading: false })),\r\n      1000,\r\n    );\r\n  };\r\n\r\n  modalToggle = event => {\r\n    if (event) {\r\n      this.setState({ modalImg: event.currentTarget.dataset.set });\r\n    }\r\n\r\n    this.setState(state => ({\r\n      showModal: !state.showModal,\r\n    }));\r\n  };\r\n\r\n  modalImgSet = img => {};\r\n\r\n  render () {\r\n    const { queryData, isLoading, showModal, modalImg } = this.state;\r\n\r\n    return (\r\n      <div className={styles.App}>\r\n        <Searchbar onSubmit={this.onChangeQuery} />\r\n        {isLoading && (\r\n          <Loader\r\n            className={styles.Loader}\r\n            type='Oval'\r\n            color='#3f51b5'\r\n            height={280}\r\n            width={280}\r\n          />\r\n        )}\r\n        <ImageGallery queryData={queryData} onOpenModal={this.modalToggle} />\r\n        {queryData.length > 0 && <Button fetchImages={this.fetchImages} />}\r\n        {showModal && (\r\n          <Modal onCloseModal={this.modalToggle}>\r\n            <img src={modalImg} />\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageFinder;\r\n","import React from 'react';\nimport ImageFinder from './ImageFinder';\nconst App = () => (\n  <>\n    <ImageFinder />\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__Okrt7\",\"SearchForm\":\"Searchbar_SearchForm__1k_3l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1iZq_\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1FQo4\",\"SearchFormInput\":\"Searchbar_SearchFormInput__13qnK\"};"],"sourceRoot":""}